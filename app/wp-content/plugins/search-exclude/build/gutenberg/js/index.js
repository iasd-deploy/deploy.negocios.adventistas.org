(()=>{"use strict";const e=window.wp.plugins,t=window.wp.element,s=window.qlse.store,o=window.wp.i18n,n=window.wp.editor,r=window.wp.components,c=window.wp.data,d=window.wp.coreData;(0,e.registerPlugin)("custom-sidebar-metabox",{render:()=>{const{settingsExcluded:e,hasResolvedSettingsExcluded:u,saveExcludedSettings:i}=(0,s.useExcludedSettings)(),{exclude:l,setExclude:a}=((e={})=>{const{meta:t,setMeta:s}=((e={})=>{const{context:t={}}=e,{meta:s,postType:o,postId:r}=(0,c.useSelect)((e=>{const{getEditedEntityRecord:s}=e(d.store),{getCurrentPostId:o,getCurrentPostType:r}=e(n.store),{postType:c=r(),postId:u=o()}=t,i=s("postType",c,u);return{meta:i?.meta,postType:c,postId:u}}),[t]),{editEntityRecord:u}=(0,c.useDispatch)(d.store);return{meta:s,setMeta:e=>{u("postType",o,r,{meta:{...s,...e}})}}})(e);return{exclude:t?._exclude,setExclude:e=>{s({_exclude:e})}}})(),[w,p]=(0,t.useState)([]),g=(0,c.select)("core/editor").getCurrentPostId(),x=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{u&&p(e)}),[u]),(0,t.useEffect)((()=>{const e=(0,c.subscribe)((()=>{const e=(0,c.select)("core/editor").isSavingPost(),t=(0,c.select)("core/editor").isAutosavingPost();!e||t||x.current||(x.current=!0,i(w)),e||(x.current=!1)}));return()=>e()}),[w]),(0,t.createElement)(n.PluginDocumentSettingPanel,{title:"Search Exclude"},(0,t.createElement)(r.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Exclude from Search Results","search-exclude"),checked:w?.includes(g),onChange:()=>{p((e=>{const t=e.includes(g)?e.filter((e=>e!==g)):[...e,g];return a(!l||void 0),t}))}}))}}),(window.qlse=window.qlse||{}).gutenberg={}})();